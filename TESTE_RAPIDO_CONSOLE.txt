// =====================================================
// TESTE R√ÅPIDO: Ver Quais Contas Est√£o Aparecendo
// =====================================================
// COLE ESTE C√ìDIGO NO CONSOLE DO NAVEGADOR (F12)
// =====================================================

(async () => {
  try {
    console.log('üîç Testando busca de contas Meta...');
    
    const { data, error } = await supabase.functions.invoke('meta-ads-api', {
      body: { action: 'get-ad-accounts' }
    });
    
    if (error) {
      console.error('‚ùå Erro:', error);
      return;
    }
    
    if (data?.error) {
      console.error('‚ùå Erro da API:', data.error);
      return;
    }
    
    const total = data.adAccounts?.length || 0;
    console.log('\nüìä ============================================');
    console.log(`‚úÖ Total de contas encontradas: ${total}`);
    console.log('üìä ============================================\n');
    
    if (total > 0) {
      console.log('üìã Lista de contas:');
      console.table(data.adAccounts.map(acc => ({
        ID: acc.id,
        Nome: acc.name || 'Sem nome',
        'Account ID': acc.account_id || 'N/A'
      })));
      
      console.log('\nüìã IDs das contas:');
      console.log(data.adAccounts.map(acc => acc.id).join(', '));
    } else {
      console.warn('‚ö†Ô∏è Nenhuma conta encontrada!');
    }
    
    return data;
  } catch (err) {
    console.error('‚ùå Erro:', err);
  }
})();
